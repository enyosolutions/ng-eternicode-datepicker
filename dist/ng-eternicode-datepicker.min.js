(function(){"use strict";angular.module("fk.eternicode-datepicker",[]).provider("datepickerDefaults",function(){var t;return t={},{setDefaultOptions:function(e){return t=e},$get:function(){return t}}}).directive("datepicker",["$timeout","datepickerDefaults",function(t,e){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",dpOptions:"="},link:function(n,r,i,u){var c,o,a,d,l;if(r.is("input"))throw"You can not add the datepicker directive to an input field";return a=r.hasClass("date"),d=r.has("input").length>0,c=d&&!a?r.children("input").first():r,o=$.extend(!0,{},e,n.dpOptions),c.datepicker(o).on("changeDate",function(){var e;return e=c.datepicker("getUTCDate"),e.setUTCHours(0,0,0,0,0),t(function(){return n.$apply(function(){return n.ngModel=e})})}).on("clearDate",function(){return t(function(){return n.$apply(function(){return n.ngModel=null})})}),l=function(){return c.is(":focus")||c.children("input").first().is(":focus")},n.$watch("ngModel",function(e){var n,r;return null==e||l()||(n=new Date(e),r=c.datepicker("getUTCDate"),null!=r&&n.getTime()===r.getTime())?void 0:t(function(){return c.datepicker("setUTCDate",n)})})}}}])}).call(this);